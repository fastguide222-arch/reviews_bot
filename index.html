<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Отзывы о каналах</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
    body {
        font-family: 'Inter', sans-serif;
        margin: 0;
        padding: 0;
        min-height: 100vh;
        background: linear-gradient(135deg, #74ebd5, #ACB6E5);
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .container {
        background-color: #ffffff;
        width: 400px;
        max-width: 90%;
        border-radius: 20px;
        padding: 30px;
        box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        transition: all 0.3s ease;
    }

    h2 {
        text-align: center;
        margin-bottom: 30px;
        color: #2f3640;
    }

    .step {
        display: none;
        animation: fadeIn 0.5s ease;
    }

    .step.active {
        display: block;
    }

    label {
        display: block;
        font-weight: 600;
        margin-bottom: 8px;
        color: #2f3640;
    }

    select, textarea {
        width: 100%;
        padding: 10px 12px;
        border-radius: 12px;
        border: 1px solid #dcdde1;
        margin-bottom: 20px;
        font-size: 14px;
        outline: none;
        transition: all 0.2s;
    }

    select:focus, textarea:focus {
        border-color: #00a8ff;
    }

    textarea {
        resize: vertical;
        min-height: 120px;
    }

    .buttons {
        display: flex;
        justify-content: space-between;
    }

    button {
        padding: 12px 20px;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        font-weight: 600;
        font-size: 14px;
        transition: 0.3s;
        color: #fff;
    }

    button.next {
        background-color: #00a8ff;
    }

    button.next:hover {
        background-color: #0097e6;
    }

    button.prev {
        background-color: #aaa;
    }

    button.prev:hover {
        background-color: #888;
    }

    @keyframes fadeIn {
        from {opacity:0;}
        to {opacity:1;}
    }
</style>
</head>
<body>
<div class="container">
    <h2>Оставьте отзыв</h2>

    <div class="step active" id="step1">
        <label for="channel">Выберите канал:</label>
        <select id="channel">
            <option value="-1002526285031">Бизнес и маркетинг</option>
            <option value="-1002716220445">Спорт и здоровье</option>
            <option value="-1002651825180">Питание и диета</option>
            <option value="-1002770818048">Образование и обучение</option>
            <option value="-1002622247826">Творчество и контент</option>
        </select>
        <div class="buttons">
            <div></div>
            <button class="next" onclick="nextStep(1)">Далее →</button>
        </div>
    </div>

    <div class="step" id="step2">
        <label for="rating">Выберите оценку:</label>
        <select id="rating">
            <option value="1">1⭐</option>
            <option value="2">2⭐</option>
            <option value="3">3⭐</option>
            <option value="4">4⭐</option>
            <option value="5">5⭐</option>
        </select>
        <div class="buttons">
            <button class="prev" onclick="prevStep(2)">← Назад</button>
            <button class="next" onclick="nextStep(2)">Далее →</button>
        </div>
    </div>

    <div class="step" id="step3">
        <label for="review">Напишите отзыв:</label>
        <textarea id="review" placeholder="Минимум 70 символов"></textarea>
        <div class="buttons">
            <button class="prev" onclick="prevStep(3)">← Назад</button>
            <button class="next" onclick="submitReview()">Отправить</button>
        </div>
    </div>
</div>

<script>
let currentStep = 1;

function showStep(step) {
    document.querySelectorAll('.step').forEach((el, index) => {
        el.classList.remove('active');
    });
    document.getElementById('step' + step).classList.add('active');
}

function nextStep(step) {
    currentStep = step + 1;
    showStep(currentStep);
}

function prevStep(step) {
    currentStep = step - 1;
    showStep(currentStep);
}

function submitReview() {
    const channel = document.getElementById('channel').value;
    const rating = parseInt(document.getElementById('rating').value);
    const review = document.getElementById('review').value.trim();

    if (review.length < 70) {
        alert("Отзыв слишком короткий, минимум 70 символов.");
        return;
    }

    const data = { channel, rating, review };

    fetch('https://YOUR_BACKEND_URL/send_review', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
    })
    .then(response => response.json())
    .then(result => {
        alert("Спасибо за отзыв!");
        document.getElementById('review').value = "";
        currentStep = 1;
        showStep(currentStep);
    })
    .catch(error => console.error('Ошибка:', error));
}
</script>
</body>
</html>
